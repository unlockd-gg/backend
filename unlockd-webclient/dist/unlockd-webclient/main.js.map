{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/admin/user-detail/user-detail.component.ts","./src/app/admin/user-detail/user-detail.component.html","./src/app/admin/users/users.component.ts","./src/app/admin/users/users.component.html","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/generic-response-dialog/generic-response-dialog.component.ts","./src/app/generic-response-dialog/generic-response-dialog.component.html","./src/app/homepage/homepage.component.ts","./src/app/homepage/homepage.component.html","./src/app/lightning.service.ts","./src/app/login-dialog/login-dialog.component.ts","./src/app/login-dialog/login-dialog.component.html","./src/app/profile/profile.component.ts","./src/app/profile/profile.component.html","./src/app/transactions/transactions.component.ts","./src/app/transactions/transactions.component.html","./src/main.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, Validators, FormControl} from '@angular/forms';\nimport { Router, ActivatedRoute} from '@angular/router';\n\nimport { LightningService } from '../../lightning.service';\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.component.html',\n  styleUrls: ['./user-detail.component.css']\n})\nexport class UserDetailComponent {\n  constructor(private lightningService: LightningService, private route: ActivatedRoute, private router: Router) { }\n\n  userid =\"\";\n  public user = {};\n\n  // load the role into the form \n  ngOnInit(): void {\n    console.log('user detail init');\n    \n    this.route.paramMap.subscribe((params) => {\n      console.log('user data params changed')\n      this.userid = params.get('userid') || \"\";\n      //this.role = this.productService.getProduct(this.id);\n      this.getUserData();\n     \n\n    });\n  }\n\n  getUserData = async () => {\n    if (localStorage.getItem(\"token\") === null) {\n      console.log('user data - no access token');\n    }\n    else\n    {\n      const response = await fetch(this.lightningService.apiUrl + '/admin/users/' + this.userid, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const result = await response.json();\n      console.log(result);\n      console.log(result.user); \n      if (result.status == \"401\")\n      {\n        this.lightningService.requestLogin();\n      }\n      if (result.user) {\n        console.log('found user');\n        console.log(result.user['title']);\n        console.log(result.user['description']);\n        this.developer.setValue(result.user['developer']);\n        this.user = result.user;\n        this.title.setValue(result.user['title']);\n\n\n      }\n    }\n  }\n\n  title = new FormControl('');\n\n  emailaddress = new FormControl('');\n  developer = new FormControl('');\n\n\n  \n  updateUser = async () => {\n    console.log('update user');\n    console.log(localStorage.getItem(\"token\"));\n\n    //const location = window.location.hostname; // this works for live\n    //const location = '13.56.127.211' // hardcoding for now\n    const settings = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({'_id':this.userid,\n         'title':this.title.value,\n         'emailaddress': this.emailaddress.value,\n         'developer': this.developer.value,\n\n      \n                            })\n    };\n    //try {\n        const fetchResponse = await fetch(this.lightningService.apiUrl + '/admin/users/' + this.userid + '/update', settings);\n        console.log(fetchResponse);\n        const data = await fetchResponse.json();\n        // we dont have to do anything special here.  redirect?\n        this.router.navigate(['admin-users']);\n\n        console.log(data);\n\n        return data;\n    //} catch (e) {\n    //    return e;\n    //} \n\n  }\n\n\n  deleteUser = async () => {\n    console.log('delete user');\n    console.log(localStorage.getItem(\"token\"));\n\n    //const location = window.location.hostname; // this works for live\n    //const location = '13.56.127.211' // hardcoding for now\n    const settings = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({'_id':this.userid})\n    };\n    //try {\n        const fetchResponse = await fetch(this.lightningService.apiUrl + '/admin/users/' + this.userid + '/delete', settings);\n        console.log(fetchResponse);\n        const data = await fetchResponse.json();\n        // we dont have to do anything special here.  redirect?\n        this.router.navigate(['admin-users']);\n        \n        console.log(data);\n\n        return data;\n    //} catch (e) {\n    //    return e;\n    //} \n\n  }\n}\n","\n\n<form #roleUpdateeForm=\"ngForm\">\n    <mat-form-field class=\"example-full-width\">\n      <mat-label for=\"title\">Name </mat-label>\n      <input matInput id=\"title\" type=\"text\" [formControl]=\"title\">\n    </mat-form-field>\n  \n    <mat-form-field class=\"example-full-width\">\n      <mat-label for=\"emailaddress\">email address </mat-label>\n      <input matInput id=\"emailaddress\" type=\"text\" [formControl]=\"emailaddress\">\n    </mat-form-field>\n\n  \n    <p><mat-checkbox [formControl]=\"developer\">developer</mat-checkbox></p>\n  \n  \n  </form>\n  \n      <button mat-raised-button color=\"primary\" type=\"button\" (click)=\"updateUser()\">Update</button>\n      <button mat-raised-button color=\"warn\" type=\"button\" (click)=\"deleteUser()\">Delete</button>\n  ","import { Component } from '@angular/core';\n\nimport { LightningService } from '../../lightning.service';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent {\n  constructor(private lightningService: LightningService) { }\n  public user_list = [];\n\n  ngOnInit(): void {\n    console.log('admin users init');\n    //this.title.setValue(this.lightningService.user['title']);\n    this.getUserData();\n\n  }\n\n  getUserData = async () => {\n  const response = await fetch(this.lightningService.apiUrl + '/users/', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const result = await response.json();\n    console.log(result);\n\n    this.user_list = result;\n\n  }\n\n}\n","<p>users works!</p>\n\n\n<table>\n    <thead>\n        <th>Name</th>\n        <th>Index</th>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let site_user of user_list\">\n\n            <td><a routerLink=\"/admin-user-detail/{{ site_user['_id'] }}\"> {{site_user['title']}} </a></td>\n        </tr>\n    </tbody>\n</table>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HomepageComponent } from './homepage/homepage.component'\nimport { ProfileComponent } from './profile/profile.component'\nimport { TransactionsComponent } from './transactions/transactions.component'\n\nimport { UsersComponent } from './admin/users/users.component'\n\nconst routes: Routes = [\n  { path: '', component: HomepageComponent },\n  { path: 'profile', component: ProfileComponent },\n  { path: 'transactions', component: TransactionsComponent },\n  { path: 'admin/users', component: UsersComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute} from '@angular/router';\n\nimport { AuthChallenge } from './authchallenge';\n\nimport { LightningService } from '../app/lightning.service';\nimport { LoginDialogComponent } from '../app/login-dialog/login-dialog.component'\n\nimport {MatDialog, MAT_DIALOG_DATA, MatDialogModule} from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'unlockd-webclient';\n  qrcodesrc = '';\n  loginComplete = false;\n  loginButtonVisible = false;\n  logoutButtonVisible = false;\n  public userTitle = \"Lightning User\";\n  authchall: AuthChallenge | undefined;\n  public user = this.lightningService.user;\n  public admin = false;\n\n  constructor(public lightningService: LightningService, private dialog: MatDialog, private router: Router) { }\n\n  ngOnInit(): void {\n    if (localStorage.getItem(\"token\") === null) {\n      this.loginButtonVisible = true;\n      this.logoutButtonVisible = false;\n    }\n    else\n    {\n      this.loginButtonVisible = false;\n      this.logoutButtonVisible = true;\n    }\n\n    if (localStorage.getItem(\"usertitle\") === null) {\n      console.log('usertitle not found in localstorage');\n    }\n    else \n    {\n      this.userTitle = localStorage.getItem(\"usertitle\") || \"\";\n    }\n\n    if (localStorage.getItem(\"admin\") === null) {\n      console.log('admin not found in localstorage');\n    }\n    else \n    {\n      var admin_str = localStorage.getItem(\"admin\") || \"\";\n      if (admin_str == 'true')\n      {\n        this.admin = true;\n      }\n      else\n      {\n        this.admin = false;\n      }\n      \n    }\n\n    // Subscribe to the login user in lightning service to know if we need to run auth again\n    this.lightningService.login_user.subscribe( (value) => {\n      console.log('lightning service requesting re-authentication');\n      // Only do this if there is an old token in localstorage\n      if (localStorage.getItem('token'))\n      {\n        console.log('found an old token');\n        this.loginChallenge();\n      }\n    });\n\n    // subscribe to the user in lightning service for changes \n    this.lightningService.sub_user.subscribe( (value) => {\n      console.log('lightning service user changed');\n      console.log(this.lightningService.user);\n      //console.log(this.lightningService.role);\n      this.user = this.lightningService.user;\n      this.userTitle = this.lightningService.user.title;\n      //this.role = this.lightningService.role;\n      //console.log(this.role.view_admin_interface.valueOf());\n    });\n    // subscribe to UI changes\n    this.lightningService.showCloseDialog.subscribe( (value) => {\n      console.log('show close dialog');\n      this.closeDialog();\n      this.loginButtonVisible = false;\n      this.logoutButtonVisible = true;\n    });\n\n    this.dialog.afterAllClosed.subscribe(data=>{\n      console.log(\"data returned from mat-dialog-close is \",data);\n      this.lightningService.signinActive = false;\n  })\n\n  }\n\n  loginChallenge() {\n    console.log('App Component Login pressed');\n\n    this.lightningService.loginChallenge()\n    .subscribe(authchall => {\n      this.authchall = authchall;\n      this.qrcodesrc = 'http://54.219.218.253/generate_qr/' + authchall.lnurl;\n\n      // open the login dialog\n      this.dialog.open(LoginDialogComponent, {\n        data: {\n          lnurl: this.authchall,\n          qrcodesrc: this.qrcodesrc\n        },\n      });\n    });\n  }\n\n  \n\n  closeDialog () {\n    this.dialog.closeAll();\n  }\n\n  logout () {\n    this.lightningService.doLogout();\n    this.loginButtonVisible = true;\n    this.logoutButtonVisible = false;\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    //localStorage.removeItem('role');\n    this.router.navigate(['']);\n  }\n\n\n\n}\n","<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->\n<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->\n<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->\n<!-- * * * * * * * to get started with your project! * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n\n<style>\n  :host {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 8px 0;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .spacer {\n    flex: 1;\n  }\n\n  .toolbar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar img {\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar #youtube-logo {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo:hover,\n  .toolbar #youtube-logo:hover {\n    opacity: 0.8;\n  }\n\n  .content {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card svg.material-icons path {\n    fill: #888;\n  }\n\n  .card-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container .card:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container .card:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container .card:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container .card:not(.highlight-card):hover .material-icons path {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card span {\n    margin-left: 60px;\n  }\n\n  svg#rocket {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a,\n  a:visited,\n  a:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a:hover {\n    color: #125699;\n  }\n\n  .terminal {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal::before {\n    content: \"\\2022 \\2022 \\2022\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal pre {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer a {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge .material-icons {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  /* Responsive Styles */\n  @media screen and (max-width: 767px) {\n    .card-container > *:not(.circle-link) ,\n    .terminal {\n      width: 100%;\n    }\n\n    .card:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card span {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke {\n      display: none;\n      visibility: hidden;\n    }\n  }\n</style>\n\n<!-- Toolbar -->\n<div class=\"toolbar\" role=\"banner\">\n\n\n  <button mat-button routerLink=\"/\">unlockd</button>\n  <button mat-button [matMenuTriggerFor]=\"socialmenu\" >SOCIAL</button>\n  <mat-menu #socialmenu=\"matMenu\">\n    <button  mat-menu-item routerLink=\"admin-courses\">\n      <mat-icon>group</mat-icon>\n      <span>Groups</span>\n    </button>\n    <button  mat-menu-item routerLink=\"admin-users\">\n      <mat-icon>group</mat-icon>\n      <span>Show friends</span>\n    </button>\n    <button  mat-menu-item routerLink=\"admin-roles\">\n      <mat-icon>event_list</mat-icon>\n      <span>Search for a friend</span>\n    </button>\n  </mat-menu>\n\n\n  <button mat-button [matMenuTriggerFor]=\"infomenu\" >INFO</button>\n  <mat-menu #infomenu=\"matMenu\">\n    <button  mat-menu-item routerLink=\"admin-courses\">\n      <mat-icon>group</mat-icon>\n      <span>Service Costs</span>\n    </button>\n    <button  mat-menu-item routerLink=\"admin-users\">\n      <mat-icon>group</mat-icon>\n      <span>Frequently Asked Questions</span>\n    </button>\n    <button  mat-menu-item routerLink=\"admin-roles\">\n      <mat-icon>event_list</mat-icon>\n      <span>Youtube Channel</span>\n    </button>\n    <button  mat-menu-item routerLink=\"admin-roles\">\n      <mat-icon>event_list</mat-icon>\n      <span>Twitter</span>\n    </button>\n  </mat-menu>\n\n  <div class=\"spacer\"></div>\n\n      <span *ngIf=\"logoutButtonVisible\">Welcome, <span> {{ userTitle }} </span> </span>\n\n      <span *ngIf=\"lightningService.user.admin\">\n        <span >\n          <button mat-icon-button [matMenuTriggerFor]=\"adminmenu\" aria-label=\"Example icon-button with a menu\">\n            <mat-icon>admin_panel_settings</mat-icon>\n          </button>\n          <mat-menu #adminmenu=\"matMenu\">\n            <button  mat-menu-item routerLink=\"admin-courses\">\n              <mat-icon>cast for education</mat-icon>\n              <span>Games</span>\n            </button>\n            <button  mat-menu-item routerLink=\"admin/users\">\n              <mat-icon>group</mat-icon>\n              <span>Users</span>\n            </button>\n            <button  mat-menu-item routerLink=\"admin-roles\">\n              <mat-icon>event_list</mat-icon>\n              <span>Blog</span>\n            </button>\n          </mat-menu>\n        </span>\n      </span>\n  \n        \n      <span *ngIf=\"logoutButtonVisible\">\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\" aria-label=\"Example icon-button with a menu\">\n          <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\">\n          <button mat-menu-item routerLink=\"profile\">\n            <mat-icon>person</mat-icon>\n            <span>profile</span>\n          </button>\n          <button mat-menu-item routerLink=\"transactions\">\n            <mat-icon>list</mat-icon>\n            <span>transactions</span>\n          </button>\n          <button mat-menu-item routerLink=\"badges\">\n            <mat-icon>checklist</mat-icon>\n            <span>badges</span>\n          </button>\n          <button mat-menu-item routerLink=\"badges\">\n            <mat-icon></mat-icon>\n            <span>redeem voucher</span>\n          </button>\n          <button mat-menu-item *ngIf=\"logoutButtonVisible\" (click)=\"logout()\">\n            <mat-icon>logout</mat-icon>\n            <span>logout</span>\n          </button>\n        </mat-menu>\n      </span>\n        \n\n    <button mat-raised-button *ngIf=\"loginButtonVisible\" (click)=\"loginChallenge()\">Login</button>\n  \n</div>\n\n<div class=\"content\" role=\"main\">\n\n<router-outlet></router-outlet>\n\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport {MatInputModule} from '@angular/material/input';\nimport {MatSelectModule} from '@angular/material/select';\nimport {MatFormFieldModule} from '@angular/material/form-field';\n\n\nimport {MatDialogModule} from '@angular/material/dialog';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {MatDatepickerModule} from '@angular/material/datepicker';\nimport {MatNativeDateModule} from '@angular/material/core';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport {MatListModule} from '@angular/material/list';\nimport {MatGridListModule} from '@angular/material/grid-list';\nimport { LoginDialogComponent } from './login-dialog/login-dialog.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { GenericResponseDialogComponent } from './generic-response-dialog/generic-response-dialog.component';\nimport { HomepageComponent } from './homepage/homepage.component';\nimport { TransactionsComponent } from './transactions/transactions.component';\nimport { UsersComponent } from './admin/users/users.component';\nimport { UserDetailComponent } from './admin/user-detail/user-detail.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ProfileComponent,\n    GenericResponseDialogComponent,\n    HomepageComponent,\n    TransactionsComponent,\n    UsersComponent,\n    UserDetailComponent,\n    //LoginDialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatIconModule,\n    MatMenuModule,\n    MatNativeDateModule,\n    MatDatepickerModule,\n    MatCheckboxModule,\n    MatListModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatFormFieldModule, MatSelectModule, MatInputModule, MatGridListModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-generic-response-dialog',\n  templateUrl: './generic-response-dialog.component.html',\n  styleUrls: ['./generic-response-dialog.component.css']\n})\nexport class GenericResponseDialogComponent {\n  constructor(\n    public dialogRef: MatDialogRef<GenericResponseDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any) { }\n  \n  onCancel(): void {\n    this.dialogRef.close();\n  }\n}\n","<h1 mat-dialog-title>{{ data.response_title }}</h1>\n<div mat-dialog-content>\n\n    {{ data.response_message }}\n\n    <div mat-dialog-actions>\n        <button mat-button (click)=\"onCancel()\">OK</button>\n    </div>\n</div>","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-homepage',\n  templateUrl: './homepage.component.html',\n  styleUrls: ['./homepage.component.css']\n})\nexport class HomepageComponent {\n\n}\n","\n\n    <div id=\"container\">\n          <div id=\"recent\">\n              <div class=\"tag\">Now</div>\n              <div class=\"fourcolcontent post\">\n                  <h3><a href=\"#\">gaming unlockd</a></h3>\n  \n  Open source, decentralized, bitcoin powered tools for modern multiplayer and competitive games.<br>\n  Run your own multiplayer game backend, and customize it however you want.\n  \n              </div>\n              <div class=\"fourcolside\" id=\"comments\">\n                  <h5><a href=\"#\">21</a></h5>\n              </div>\n              <div class=\"clear\"></div>\n          </div>\n  \n          <div class=\"divider\"></div>\n  \n          <div id=\"older\">\n              <div class=\"tag\">Mission</div>\n              <div class=\"fourcolside post\">\n                  <h3>Bitcoin Only</h3>\n          We are exclusively focused on bitcoin.  No site token, no shi*coins.  BTC and lightning ftw.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Support developers</h3>\n                  Indie and small studios need backend game solutions.  Providing complete open source access allows devs and studios to run a customized backend.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Promote decentralization</h3>\n          Multiplayer games still require high performance, realtime, dedicated servers.  Especially in the case of competitive games, or games with an economy, these servers need to be under control of the game developer.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Encourage self custody</h3>\n                  We remind users to withdraw sats from the site at the end of a gaming session.  We will provide help and instructions on how to do this.  Lightning makes deposit and withdraw quick and easy.\n              </div>\n              <div class=\"clear\"></div>\n          </div>\n  \n  \n      <div class=\"divider\"></div>\n  \n          <div id=\"older\">\n              <div class=\"tag\">TASKS</div>\n              <div class=\"fourcolside post\">\n                  <h3>Convert backend to python 3 runtime</h3>\n          Python 2.7 is no longer supported, and we need to convert.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Convert metagame to python 3 runtime</h3>\n                  Python 2.7 is no longer supported, and we need to convert.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Convert examplegame to use pub/priv key auth</h3>\n          Remove firebase auth and replace with lnurl login.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Integrate lightning deposit/withdraw</h3>\n                  Remove braintree payments, and replace with lightning.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Remove uetopia references throughout</h3>\n          uetopia is mentioned throughout the codebase, and we need to replace it.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Sunsetting uetopia</h3>\n                  The uetopia website and legacy functionality will be retained until January 2024.  Users and games should run a backend instance or find an alternative before this time.\n              </div>\n              <div class=\"fourcolside post\">\n                  <h3>Community Discord</h3>\n                  <a href=\"https://discord.gg/QXQkq4dhdx\">Discord Server</a> up and running.  Stop by and chat about games.\n              </div>\n  \n              <div class=\"clear\"></div>\n          </div>\n  \n  \n          <div class=\"divider\"></div>\n          <div id=\"navigate\">\n              <div class=\"tag\">Navigate</div>\n              <div class=\"fourcolside\">\n                  <h3>Repositories</h3>\n                  <ul>\n                      <li><a href=\"https://github.com/unlockd-gg/ExampleGame\">Example Game</a></li>\n                      <li><a href=\"https://github.com/unlockd-gg/online-subsystem\">Unreal Engine Plugin</a></li>\n                      <li><a href=\"https://github.com/unlockd-gg/metagame\">Metagame</a></li>\n                      <li><a href=\"https://github.com/unlockd-gg/backend\">Backend</a></li>\n                      <li><a href=\"https://github.com/unlockd-gg/UnrealEngine\">Unreal Engine</a></li>\n                      <li><a href=\"https://github.com/unlockd-gg/socketIO-server\">SocketIO Server</a></li>\n            <li><a href=\"https://github.com/unlockd-gg/launcher\">Launcher</a></li>\n                  </ul>\n              </div>\n              <div class=\"fourcolside\">\n                  <h3>Social</h3>\n                  <ul>\n                      <li><a href=\"https://discord.gg/QXQkq4dhdx\">Discord</a></li>\n                      <li><a href=\"#\">Twitter</a></li>\n                      <li><a href=\"#\">Blog</a></li>\n                  </ul>\n              </div>\n              <div class=\"fourcolside\">\n                  <h3>Support</h3>\n                  <ul>\n                      <li><a href=\"/img/btc_donations.png\">bitcoin donations</a></li>\n                      <li><a href=\"https://getalby.com/element.png\">lightning donations</a></li>\n  \n                  </ul>\n              </div>\n              <div class=\"fourcolside\">\n                  <h3>uetopia/legacy</h3>\n                  <ul>\n                      <li><a href=\"https://uetopia.com\">Backend</a></li>\n                      <li><a href=\"https://github.com/uetopia/\">Repositories</a></li>\n                  </ul>\n              </div>\n              <div class=\"clear\"></div>\n          </div>\n          <div class=\"clear\"></div>\n          <div class=\"divider\"></div>\n          <div class=\"fourcolside\">&nbsp;</div><div class=\"fourcolside\">&nbsp;</div><div class=\"fourcolside\">&nbsp;</div><div class=\"fourcolsidesmall\">This page designed and coded by <a href=\"http://www.gregponchak.com\">Greg Ponchak</a>.</div>\n      </div>\n  \n  \n\n  ","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\nimport { Observable, of, Subject } from 'rxjs';\nimport { catchError, map, tap, delay } from 'rxjs/operators';\n\n//import { requestProvider } from \"webln\";\n\nimport { User } from './user';\n//import { Role } from './role';\nimport { AuthChallenge } from './authchallenge';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LightningService {\n\n  // TODO:  Fix this so it's not hardcoded to our local dev environment\n  public apiUrl = 'https://unlockd.gg/api';  // URL to web api - in quotes - no trailing slash:  'http://54.176.48.9'\n  public authChallengeResponse = '';\n  public weblnButtonUrl = '';\n  public emailaddress = '';\n  public auth_token = '';\n  public signinActive = false;\n  signinEmailValidation = false;\n  showEmailPopUp: Subject<boolean> = new Subject<boolean>();\n  showEmailValidationPopUp: Subject<boolean> = new Subject<boolean>();\n  signInComplete = false;\n  showCloseDialog: Subject<boolean> = new Subject<boolean>();\n\n  // keep track of fake pubkey in the case of a non-lighting login\n  fake_pub_key = \"\";\n\n  user: User = {\n    id: 0,\n    title: 'Service Test User',\n    emailvalidated: false,\n    admin: false\n  };\n\n\n\n  sub_user: Subject<boolean> = new Subject<boolean>();\n  login_user: Subject<boolean> = new Subject<boolean>();\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  /** GET login challenge from the server */\n  // this is just a lnurl string\n  loginChallenge():  Observable<AuthChallenge> {\n    console.log('Lightning Service Login Challenge');\n    const auth_url = `${this.apiUrl}/auth`;\n    return this.http.get<AuthChallenge>(auth_url)\n    .pipe(\n      tap( // Log the result or error\n      {\n        //next: (data) => this.log(data['lnurl']), // this works\n        //next: (data) => this.authChallengeResponse = data['lnurl'], // this too\n        next: (data) => this.registerACR( data['lnurl'] ),\n        error: (error) => this.log('error')\n      }\n      )\n    );\n  }\n\n  registerACR(aCR: string) {\n    console.log('register ACR');\n    console.log(aCR);\n    this.authChallengeResponse = aCR;\n    this.signinActive = true;\n    this.startPolling();\n  }\n\n  getLnUrl() {\n    console.log('Lightning Service Get lnUrl');\n    return this.authChallengeResponse;\n  }\n\n  pollSignedIn = async () => {\n    const response = await fetch(this.apiUrl + '/me?bech_32_url=' + this.authChallengeResponse);\n    const result = await response.json();\n    console.log(result);\n    console.log(result.user); \n    if (result.auth_token)\n    {\n      console.log('found auth_token');\n\n      // User can still be none here.  Check first.\n      if (result.user) {\n        console.log('found user');\n        this.user = result.user;\n        this.update_user(result.user['title'], result.user['address'], result.user['admin']);\n      }\n      \n      this.auth_token = result.auth_token;\n      localStorage.setItem('token', result.auth_token);\n      \n      //localStorage.setItem('user', JSON.stringify(result.user));\n\n      this.signinActive = false;\n\n      if (result.do_email_validation) {\n        console.log('do email validation');\n        this.showEmailPopUp.next(true);\n      } \n      else \n      {\n        console.log('no email validation - close dialog');\n        this.showCloseDialog.next(true);\n        this.getUserData();\n      }\n    }\n    return result.user != null;\n  }\n\n  checkSignedIn = async () => {\n    const result = await this.pollSignedIn();\n    console.log(result);\n\n    if (!result) {\n        this.startPolling();\n    } else {\n        console.log('login success');\n        // window.location.reload();\n        this.signInComplete = true;\n    }\n  }\n\n  startPolling() {\n      if(!this.signinActive)\n      {\n        return;\n      }\n      window.setTimeout( this.checkSignedIn, 1000);\n  }\n\n  async startEmailValidation(emailaddress: string)\n  {\n    console.log('lightning.service startEmailValidation')\n    this.emailaddress = emailaddress;\n    const response = await fetch(this.apiUrl + '/user/email/' + emailaddress + '/start', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${this.auth_token}`\n      }\n    });\n    this.showEmailValidationPopUp.next(true);\n    const result = await response.json();\n  }\n\n  async validateEmail(emailaddress: string, verificationcode: string)\n  {\n    console.log('lightning.service startEmailValidation')\n    this.emailaddress = emailaddress;\n    const response = await fetch(this.apiUrl + '/user/email/' + emailaddress + '/validate/' + verificationcode, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${this.auth_token}`\n      }\n    });\n    this.showEmailValidationPopUp.next(true);\n    const result = await response.json();\n\n    if (result['success'] == true) {\n      console.log('success true');\n\n      // get user data again.\n      this.getUserData();\n      this.signinActive = false;\n      this.showCloseDialog.next(true);\n\n    }\n  }\n\n  async startEmailValidationNoLightning(emailaddress: string)\n  {\n    console.log('lightning.service startEmailValidation without lightning')\n    this.emailaddress = emailaddress;\n    const response = await fetch(this.apiUrl + '/user/email/' + emailaddress + '/start-no-lightning' );\n    this.showEmailValidationPopUp.next(true);\n    const result = await response.json();\n    this.fake_pub_key = result['publickey'];\n  }\n\n  async validateEmailNoLightning(emailaddress: string, verificationcode: string)\n  {\n    console.log('lightning.service startEmailValidation without lightning')\n    this.emailaddress = emailaddress;\n    const response = await fetch(this.apiUrl + '/user/email/' + emailaddress + '/validate-no-lightning/' + verificationcode + \"/\" + this.fake_pub_key );\n\n    this.showEmailValidationPopUp.next(true);\n    const result = await response.json();\n\n    if (result['success'] == true) {\n      console.log('success true');\n      // save the JWT token here.\n      this.auth_token = result.auth_token;\n      localStorage.setItem('token', result.auth_token);\n\n      this.signinActive = false;\n      this.showCloseDialog.next(true);\n\n    }\n  }\n\n  update_user(title: string, address: string, admin: boolean )\n  {\n    console.log('lightning service update user');\n    this.user['title'] = title;\n    this.user['admin'] = admin;\n    this.sub_user.next(true);\n  }\n\n  getUserData = async () => {\n    const response = await fetch(this.apiUrl + '/users/data', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const result = await response.json();\n    console.log(result);\n    console.log(result.user); \n    if (result.user) {\n      console.log('found user');\n      this.user = result.user;\n      this.sub_user.next(true);\n    }\n    else\n    {\n      this.login_user.next(true);\n    }\n    if (result.role) {\n      console.log('found role');\n      console.log(result.role);\n      //this.role = result.role;\n\n      // add the role to localstorage\n      //localStorage.setItem('role', JSON.stringify(result.role));\n    }\n    return {User: this.user};\n  }\n\n  doLogout() {\n  }\n\n  public requestLogin( ) {\n    this.login_user.next(true);\n  }\n\n\n\n\n  /** Log */\n  private log(message: string) {\n    console.log(message);\n    //this.messageService.add(`HeroService: ${message}`);\n  }\n}\n","import {Component, Inject, Input, NgModule} from '@angular/core';\n//import { BrowserModule } from '@angular/platform-browser';\nimport { CommonModule } from '@angular/common';\nimport { LightningService } from '../lightning.service';\nimport {MatDialog, MAT_DIALOG_DATA, MatDialogModule} from '@angular/material/dialog';\n//import { FormControl } from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule  } from '@angular/forms';\nimport {NgIf} from '@angular/common';\nimport {MatButtonModule} from '@angular/material/button';\n\nimport { LoginDialogData } from '../login-dialog-data';\n\n@Component({\n  selector: 'app-login-dialog',\n  templateUrl: './login-dialog.component.html',\n  standalone: true,\n  imports: [ CommonModule, MatDialogModule, NgIf, MatButtonModule, FormsModule, ReactiveFormsModule],\n})\nexport class LoginDialogComponent {\n  \n  constructor(@Inject(MAT_DIALOG_DATA) public data: LoginDialogData, private lightningService: LightningService) {\n    \n  }\n\n  ngOnInit(): void {\n    // subscribe to the user in lightning service for changes \n    this.lightningService.showEmailPopUp.subscribe( (value) => {\n      console.log('show email popup');\n      this.signinEmailValidationStart = true;\n      this.signinLightning = false;\n    });\n    // subscribe to the user in lightning service for changes\n    this.lightningService.showEmailValidationPopUp.subscribe( (value) => {\n      console.log('show Email Validation popup');\n      this.signinEmailValidationCodeStart = true;\n      this.signinEmailValidationStart = false;\n    });\n\n\n\n    \n }\n  //qrcodesrc = this.lightningService.getLnUrl();\n  qrcodesrc = 'https://unlockd.gg/api/generate_qr/' + this.lightningService.getLnUrl();\n  weblnurl = 'lightning:' + this.lightningService.getLnUrl();\n\n  // Multi-stage dialog\n  // Stage1 = lightninglogin\n  signinLightning = true;\n\n  loginmodebrowser = true;\n  loginmodeQR = false;\n  loginmodeEmail = false;\n\n\n  // Stage 2 - email address entry\n  signinEmailValidationStart = false;\n  signinEmailValidation = false;\n  emailaddress = '';\n  // Stage 3 - Email validation\n  signinEmailValidationCodeStart = false;\n  emailaddressverificationcode = '';\n\n  changeLoginMode(loginMode: string) {\n    if (loginMode == \"browser\") {\n      this.loginmodebrowser = true;\n      this.loginmodeQR = false;\n      this.loginmodeEmail = false;\n    } else if (loginMode == \"qrcode\")  {\n      this.loginmodebrowser = false;\n      this.loginmodeQR = true;\n      this.loginmodeEmail = false;\n    } else {\n      this.loginmodebrowser = false;\n      this.loginmodeQR = false;\n      this.loginmodeEmail = true;\n    }\n  }\n\n  submitEmail() {\n    console.log(this.emailaddress);\n    this.lightningService.startEmailValidation(this.emailaddress);\n  }\n\n  validateEmail() {\n    console.log(this.emailaddress);\n    console.log(this.emailaddressverificationcode)\n    this.lightningService.validateEmail(this.emailaddress, this.emailaddressverificationcode);\n  }\n\n  submitEmailNoLightning() {\n    console.log(this.emailaddress);\n    this.lightningService.startEmailValidationNoLightning(this.emailaddress);\n\n    // Turn off the mode selection buttons\n    this.signinLightning = false;\n  }\n  validateEmailNoLightning() {\n    console.log(this.emailaddress);\n    console.log(this.emailaddressverificationcode)\n    this.lightningService.validateEmailNoLightning(this.emailaddress, this.emailaddressverificationcode);\n  }\n\n}\n","<h1 mat-dialog-title>Login to unlockd</h1>\n<div *ngIf=\"signinLightning\" mat-dialog-content>\n    <div *ngIf=\"loginmodebrowser\">\n        <p><a [attr.href]=\"weblnurl\" class=\"webln-button d-none btn btn-primary mx-auto\" >Connect to browser</a></p>\n        <p>If the link above does not work for you, please install the <a href=\"https://getalby.com\">getalby web extension.</a></p>\n        <p>Or, scan a QR code using <a href=\"https://coincharge.io/en/lnurl-for-lightning-wallets/\">your favorite lightning wallet</a> that supports lnurl-auth </p>\n        \n    </div> \n    <div *ngIf=\"loginmodeQR\">Login with a QR code.\n    <p> Scan this QR code with <a href=\"https://coincharge.io/en/lnurl-for-lightning-wallets/\">your favorite lightning wallet</a> that supports lnurl-auth</p>. \n        <a class=\"qr-link\" href=\"\">\n        <img class=\"qr\" id=\"qr_image\" [src]=qrcodesrc >\n      </a>\n    </div> \n    <div *ngIf=\"loginmodeEmail\">Login with an email address.\n        <p> Enter your email address to recieve a temporary login code</p>. \n        <p> This login functionality is provided as a temporary convenience, and will no longer be available once lnurl-auth is working on iphone/safari.  Please use lightning.</p>\n            \n        Email address: <input type=\"email\"  [(ngModel)]=\"emailaddress\" email>\n        <button mat-raised-button color=\"primary\" (click)=\"submitEmailNoLightning()\">Submit Email</button>\n\n    </div> \n</div>\n<div *ngIf=\"signinEmailValidationStart\" mat-dialog-content>\n    <p>You are logged in with lightning.  </p>\n    <h1 mat-dialog-title>Required: Validate email</h1>\n    <p>We require your email address so we can email you with updates.</p>\n    <p>We will never sell your email address, or give it away to anyone.</p>\n    <p>\n        Email address: <input type=\"email\"  [(ngModel)]=\"emailaddress\" email>\n    </p>\n    <p> {{emailaddress}}</p>\n</div>\n<div *ngIf=\"signinEmailValidationCodeStart\" mat-dialog-content>\n    <p>Please check your email for the 6 digit security code  </p>\n    <h1 mat-dialog-title>Required: Validate email</h1>\n\n    <p>\n    VerificationCode: <input type=\"text\"  [(ngModel)]=\"emailaddressverificationcode\" >\n    </p>\n    <p> {{emailaddressverificationcode}}</p>\n</div>\n\n\n<div *ngIf=\"signinLightning\" mat-dialog-actions>\n    <div class=\"login-button-row\">\n        <button *ngIf=\"!loginmodebrowser\" mat-raised-button color=\"primary\" (click)=\"changeLoginMode('browser')\">Login with browser</button>\n        <button *ngIf=\"!loginmodeQR\" mat-raised-button color=\"accent\" (click)=\"changeLoginMode('qrcode')\">Login with QR code</button>\n        <button *ngIf=\"!loginmodeEmail\" mat-raised-button color=\"accent\" (click)=\"changeLoginMode('email')\">Login with Email</button>\n        <button mat-raised-button color=\"warn\" mat-dialog-close>Close</button>\n    </div>\n</div>\n<div *ngIf=\"signinEmailValidationStart\" mat-dialog-content>\n    <div class=\"login-button-row\">\n        <button mat-raised-button color=\"primary\" (click)=\"submitEmail()\">Submit Email</button>\n        <button mat-raised-button color=\"warn\" mat-dialog-close>Close</button>\n    </div>\n</div>\n<div *ngIf=\"signinEmailValidationCodeStart\" mat-dialog-content>\n    <div class=\"login-button-row\">\n        <button *ngIf=\"!loginmodeEmail\" mat-raised-button color=\"primary\" (click)=\"validateEmail()\">Verify Email</button>\n        <button *ngIf=\"loginmodeEmail\" mat-raised-button color=\"primary\" (click)=\"validateEmailNoLightning()\">Verify Email NL</button>\n        <button mat-raised-button color=\"warn\" mat-dialog-close>Close</button>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { FormGroup, Validators, FormControl} from '@angular/forms';\n\nimport {MatDialog, MAT_DIALOG_DATA, MatDialogModule} from '@angular/material/dialog';\n\nimport { LightningService } from '../lightning.service';\nimport { User } from '../user';\n\nimport { GenericResponseDialogComponent } from '../generic-response-dialog/generic-response-dialog.component';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent {\n\n  constructor(public lightningService: LightningService, public dialog: MatDialog) { }\n\n  profile_user_json = {};\n  public member = false;\n\n  user: User = {\n    id: 0,\n    title: 'Profile User',\n    emailvalidated: false,\n    admin: false\n  };\n\n\n  title = new FormControl('');\n\n  ngOnInit(): void {\n    console.log('profile init');\n    //this.title.setValue(this.lightningService.user['title']);\n    this.getUserData();\n\n  }\n\n  getUserData = async () => {\n    if (localStorage.getItem(\"token\") === null) {\n      console.log('profile - no access token');\n    }\n    else\n    {\n      const response = await fetch(this.lightningService.apiUrl + '/users/data', {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const result = await response.json();\n      console.log(result);\n      console.log(result.user); \n      console.log(result.status); \n      if (result.status == \"401\")\n      {\n        this.lightningService.requestLogin();\n      }\n      if (result.user) {\n        console.log('found user');\n        this.user = result.user;\n        this.title.setValue(result.user['title']);\n\n        //this.admin = result.user['admin'];\n\n      }\n    }\n  }\n\n\n  updateProfile = async () => {\n    console.log('update profile');\n    console.log(localStorage.getItem(\"token\"));\n\n    //const location = window.location.hostname; // this works for live\n    const location = '13.56.127.211' // hardcoding for now\n    const settings = {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({'title':this.title.value,\n\n      })\n    };\n    //try {\n        const fetchResponse = await fetch(this.lightningService.apiUrl + '/users/profile/update', settings);\n        console.log(fetchResponse);\n        const data = await fetchResponse.json();\n        // TODO - update localstorage with the new profile data\n        //const result = await data.json();\n        console.log(data);\n        //localStorage.setItem('user', JSON.stringify(result.user));\n\n        this.dialog.open(GenericResponseDialogComponent, {\n          data: {\n            response_message: data['response_message'],\n            response_title: data['response_title']\n          },\n        });\n\n        localStorage.setItem('usertitle', this.title.value || \"Lightning User!\");\n\n        // we want to do an update at some point, later.\n        // doing this here, results in overwriting the actual form data\n        this.lightningService.getUserData();\n\n        //this.profile_user_json = result.user;\n        return data;\n    //} catch (e) {\n    //    return e;\n    //} \n\n  }\n\n}\n","\n    <h3 class=\"ng-binding\" ><b>Update My Profile</b></h3>\n\n\n<form #heroForm=\"ngForm\">\n    <mat-form-field class=\"example-full-width\">\n        <mat-label for=\"title\">Name </mat-label>\n        <input matInput id=\"title\" type=\"text\" [formControl]=\"title\">\n    </mat-form-field>\n    \n\n\n</form>\n\n    <button mat-raised-button color=\"primary\" (click)=\"updateProfile()\">Update Profile</button>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-transactions',\n  templateUrl: './transactions.component.html',\n  styleUrls: ['./transactions.component.css']\n})\nexport class TransactionsComponent {\n\n}\n","<p>transactions works!</p>\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["FormControl","UserDetailComponent","constructor","lightningService","route","router","_this","userid","user","getUserData","_asyncToGenerator","localStorage","getItem","console","log","response","fetch","apiUrl","headers","Authorization","result","json","status","requestLogin","developer","setValue","title","emailaddress","updateUser","settings","method","Accept","body","JSON","stringify","value","fetchResponse","data","navigate","deleteUser","ngOnInit","paramMap","subscribe","params","get","i0","directiveInject","i1","LightningService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","UserDetailComponent_Template","rf","ctx","elementStart","text","elementEnd","element","listener","UserDetailComponent_Template_button_click_13_listener","UserDetailComponent_Template_button_click_15_listener","advance","property","propertyInterpolate1","site_user_r1","textInterpolate1","UsersComponent","user_list","UsersComponent_Template","template","UsersComponent_tr_9_Template","RouterModule","HomepageComponent","ProfileComponent","TransactionsComponent","routes","path","component","AppRoutingModule","forRoot","imports","exports","LoginDialogComponent","ctx_r2","userTitle","_r6","AppComponent_span_49_button_25_Template_button_click_0_listener","restoreView","_r10","ctx_r9","nextContext","resetView","logout","AppComponent_span_49_button_25_Template","_r7","ctx_r4","logoutButtonVisible","AppComponent_button_50_Template_button_click_0_listener","_r12","ctx_r11","loginChallenge","AppComponent","dialog","qrcodesrc","loginComplete","loginButtonVisible","admin","admin_str","login_user","sub_user","showCloseDialog","closeDialog","afterAllClosed","signinActive","authchall","lnurl","open","closeAll","doLogout","removeItem","MatDialog","i3","AppComponent_Template","AppComponent_span_47_Template","AppComponent_span_48_Template","AppComponent_span_49_Template","AppComponent_button_50_Template","_r0","_r1","BrowserModule","HttpClientModule","BrowserAnimationsModule","FormsModule","ReactiveFormsModule","MatInputModule","MatSelectModule","MatFormFieldModule","MatDialogModule","MatButtonModule","MatIconModule","MatMenuModule","MatDatepickerModule","MatNativeDateModule","MatCheckboxModule","MatListModule","MatGridListModule","GenericResponseDialogComponent","AppModule","bootstrap","declarations","MAT_DIALOG_DATA","dialogRef","onCancel","close","MatDialogRef","GenericResponseDialogComponent_Template","GenericResponseDialogComponent_Template_button_click_5_listener","textInterpolate","response_title","response_message","HomepageComponent_Template","Subject","tap","http","authChallengeResponse","weblnButtonUrl","auth_token","signinEmailValidation","showEmailPopUp","showEmailValidationPopUp","signInComplete","fake_pub_key","id","emailvalidated","pollSignedIn","update_user","setItem","do_email_validation","next","checkSignedIn","startPolling","role","User","auth_url","pipe","registerACR","error","aCR","getLnUrl","window","setTimeout","startEmailValidation","_this2","validateEmail","verificationcode","_this3","startEmailValidationNoLightning","_this4","validateEmailNoLightning","_this5","address","message","inject","HttpClient","factory","fac","providedIn","CommonModule","attribute","ctx_r6","weblnurl","sanitizeUrl","ctx_r7","LoginDialogComponent_div_2_div_3_Template_input_ngModelChange_8_listener","$event","LoginDialogComponent_div_2_div_3_Template_button_click_9_listener","submitEmailNoLightning","ctx_r8","LoginDialogComponent_div_2_div_1_Template","LoginDialogComponent_div_2_div_2_Template","LoginDialogComponent_div_2_div_3_Template","ctx_r0","loginmodebrowser","loginmodeQR","loginmodeEmail","LoginDialogComponent_div_3_Template_input_ngModelChange_11_listener","_r13","ctx_r12","ctx_r1","LoginDialogComponent_div_4_Template_input_ngModelChange_7_listener","_r15","ctx_r14","emailaddressverificationcode","LoginDialogComponent_div_5_button_2_Template_button_click_0_listener","_r20","ctx_r19","changeLoginMode","LoginDialogComponent_div_5_button_3_Template_button_click_0_listener","_r22","ctx_r21","LoginDialogComponent_div_5_button_4_Template_button_click_0_listener","_r24","ctx_r23","LoginDialogComponent_div_5_button_2_Template","LoginDialogComponent_div_5_button_3_Template","LoginDialogComponent_div_5_button_4_Template","ctx_r3","LoginDialogComponent_div_6_Template_button_click_2_listener","_r26","ctx_r25","submitEmail","LoginDialogComponent_div_7_button_2_Template_button_click_0_listener","_r30","ctx_r29","LoginDialogComponent_div_7_button_3_Template_button_click_0_listener","_r32","ctx_r31","LoginDialogComponent_div_7_button_2_Template","LoginDialogComponent_div_7_button_3_Template","ctx_r5","signinLightning","signinEmailValidationStart","signinEmailValidationCodeStart","loginMode","standalone","features","StandaloneFeature","LoginDialogComponent_Template","LoginDialogComponent_div_2_Template","LoginDialogComponent_div_3_Template","LoginDialogComponent_div_4_Template","LoginDialogComponent_div_5_Template","LoginDialogComponent_div_6_Template","LoginDialogComponent_div_7_Template","NgIf","MatDialogClose","MatDialogTitle","MatDialogContent","MatDialogActions","i4","MatButton","i5","DefaultValueAccessor","NgControlStatus","EmailValidator","NgModel","encapsulation","profile_user_json","member","updateProfile","location","ProfileComponent_Template","ProfileComponent_Template_button_click_9_listener","TransactionsComponent_Template","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}